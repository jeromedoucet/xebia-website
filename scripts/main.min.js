$(function(){Xebia.init()}),Xebia={current:0,init:function(){var a=function(a,b,c){var d,e=null;return function(){var f=this,g=arguments,h=function(){e=null,c||(d=a.apply(f,g))},i=c&&!e;return clearTimeout(e),e=setTimeout(h,b),i&&(d=a.apply(f,g)),d}};$(".nav a").click(function(a){a.preventDefault(),$("html,body").animate({scrollTop:$(this.hash).offset().top-25},400)}),$(window).scroll(a(Xebia.menuSlider,100)),this.next(),$(".dot").click(function(){var a=$(this).attr("class").split(" ");for(var b in a){var c=a[b];c.match(/^dot\d+$/)&&Xebia.displayCarousel(parseInt(c.replace("dot",""),10))}}),setInterval(function(){Xebia.next()},1e4),setInterval(function(){Xebia.nextClient(".logo-small div")},5500),setInterval(function(){Xebia.nextClient(".logo-large div")},4500),this.initLogos()},menuSlider:function(){var a=$(window).scrollTop()+1,b=$(".nav .pointer");a<$("#passion").position().top?b.animate({left:"100px"},300):a<$("#trust").position().top?b.animate({left:"210px"},300):a<$("#universe").position().top?b.animate({left:"355px"},300):a<$("#careers").position().top?b.animate({left:"505px"},300):a<$("#contact").position().top?b.animate({left:"630px"},300):a<$("#work").position().top?b.animate({left:"725px"},300):b.animate({left:"860px"},300)},random:function(a,b){return Math.floor(Math.random()*(b-a))+a},initLogos:function(){for(var a=0;26>a;a++)$("<div>").css("background","url('images/trust-logos-small.png') -"+170*a+"px 0px no-repeat").hide().appendTo(".logo-small");for(var a=0;6>a;a++){var b=$(".logo-small div").filter(":hidden");b.eq(this.random(0,b.length)).show()}for(var a=0;14>a;a++)$("<div>").css("background","url('images/trust-logos-large.png') -"+220*a+"px 0px no-repeat").hide().prependTo(".logo-large");for(var a=0;4>a;a++){var b=$(".logo-large div").filter(":hidden");b.eq(this.random(0,b.length)).show()}},nextClient:function(a){var b=$(a).filter(":visible"),c=b.eq(this.random(0,b.length)),d=$(a).filter(":hidden"),e=d.eq(this.random(0,d.length));$(c).fadeOut(2e3,function(){$(c).before($(e)),$(e).fadeIn(2e3)})},next:function(){var a=$(".carousel-slides").children().size(),b=this.current>=a?1:this.current+1;this.displayCarousel(b)},displayCarousel:function(a){$(".slide"+this.current).fadeOut(600),$(".dot"+this.current).removeClass("active"),this.current=a,$(".slide"+this.current).fadeIn(700),$(".dot"+this.current).addClass("active")}};