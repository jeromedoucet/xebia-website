!function(){$(function(){var e=$("nav li").filter(function(){return"services.html"==$(this).find("a").attr("href")}),t=function(){selectMainMenu(e)};t(),$(window).resize(t)})}(),window.CLIENTS=[{name:"Viadeo"},{name:"Allianz"},{name:"Via Michelin"},{name:"Canal+"},{name:"Mappy"},{name:"UbiSoft"},{name:"Orange"},{name:"La Poste"},{name:"Publicis"},{name:"Sanofi"},{name:"FDJ"},{name:"Pages Jaunes"},{name:"PMU"},{name:"Insee"},{name:"Sacem"},{name:"SFR"},{name:"LB Poker"},{name:"JC Decaux"},{name:"Crédit Agricole"},{name:"Egencia"},{name:"B For Bank"},{name:"BNP Paribas"},{name:"Air France"},{name:"Cofiroute"},{name:"Conseil d'état"},{name:"ManPower"},{name:"Voyages-SCNF.com"},{name:"Bi-Sam"},{name:"Banque de France"},{name:"Emailvision"},{name:"Alstom"},{name:"Vente-privee.com"},{name:"RATP"},{name:"Pôle Emploi"}],function(){var e=function(e){return e.replace(/\s/g,"-").replace(/['.]/g,"_").replace(/[ô]/g,"o").replace(/[éè]/g,"e").replace(/\+/g,"_plus").toLowerCase()};window.Client=function(e,t){this.clientTemplate=e,this.idElement=t},window.Client.prototype.displayIn=function(t){var n=t.map(function(t,n){return this.clientTemplate({name:t.name,slurpedName:e(t.name),idx:n})},this).join("");this.getElement().append(n)},window.Client.prototype.getElement=function(){return $("#"+this.idElement)},window.Client.prototype.caroussel=function(){var e=this.getElement(),t=e.children(),n=t.outerWidth(!0),i=t.length,o=Math.round(e.parent().width()/n),a=i%o,r=(i-(a?a:o))*n,c=o*n,s={currentPosition:0,moveLeft:function(){var e=this.currentPosition+c;e>0&&(e=-r),this.move(e)},moveRight:function(){var e=this.currentPosition-c;-r>e&&(e=0),this.move(e)},move:function(t){this.currentPosition=t,e.css("left",t)}};$(".before-button").click(function(){s.moveLeft()}),$(".after-button").click(function(){s.moveRight()})}}(),function(e,t){$(function(){var n=e.client,i=new Client(n,"clients-logo");i.displayIn(t),i.caroussel()})}(window.TEMPLATES,window.CLIENTS),function(){window.Video=function(e,t){this.videoTemplate=e,this.idElement=t};var e=function(e,t,n){var i=$.getJSON(e+"?callback=?");i.then(function(e){return e.slice(0,3)}).done(function(e){var i=e.map(function(e){var n={title:e.title,isoDate:"",formattedDate:"",description:e.description,url:"http://player.vimeo.com/video/"+e.id};return t(n)}).join("");$("#"+n).html(i)})};window.Video.prototype.displayVideosOfUser=function(t){var n="http://vimeo.com/api/v2/"+t+"/videos.json";e(n,this.videoTemplate,this.idElement)},window.Video.prototype.displayVideosOfChannel=function(t){var n="http://vimeo.com/api/v2/channel/"+t+"/videos.json";e(n,this.videoTemplate,this.idElement)}}(),function(e){var t=e.video;$(function(){new Video(t,"videos-wrapper").displayVideosOfChannel(556664)})}(window.TEMPLATES),function(e,t){var n=function(e){this.template=e},i=function(t,n,i){var o=e.ajax(t,{dataType:"jsonp"});o.done(function(t){var o=t.posts,a=o.map(function(e){if(!e)return"";var t=e.excerpt.replace(/\s\[(.*)]/g,"$1").split(" ").slice(0,30).join(" ")+"...",i={title:e.title,name:e.author?e.author.name:"",date:e.date?moment(e.date).format("DD MMMM YYYY"):"",description:t,url:e.url};return n(i)}).join("");e("#"+i).html(a)})};n.prototype.displayIn=function(e){var t="http://blog.xebia.fr/wp-json-api/get_recent_posts/?count=3";i(t,this.template,e)},n.prototype.displayCategoryIn=function(e,t){var n="http://blog.xebia.fr/wp-json-api/get_category_posts/?slug="+e+"&count=3";i(n,this.template,t)},t.Blog=n}($,window),function(e){var t=e.blog;$(function(){new Blog(t).displayCategoryIn("agilite","blog-articles-wrapper")})}(window.TEMPLATES),function(e){"use strict";if("undefined"==typeof e)return"console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."),void 0;var t=e.featherlight=function(n,i){if(this.constructor===t)this.id=t.id++;else{if("string"==typeof n||!1!=n instanceof e){var o=(new t).setup(n,i);return o.config.open.call(o),o}i=e.extend({},t.defaults,n||{}),e(i.selector,i.context).featherlight()}},n=function(e){if(27===e.keyCode&&!e.isDefaultPrevented()){var n=t.current();n&&n.config.closeOnEsc&&(n.$instance.find("."+n.config.namespace+"-close:first").click(),e.preventDefault())}};e.extend(t,{id:0,defaults:{autostart:!0,namespace:"featherlight",selector:"[data-featherlight]",context:"body",type:{image:!1,ajax:!1},targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",beforeOpen:e.noop,beforeClose:e.noop,afterOpen:e.noop,afterClose:e.noop,contentFilters:["jquery","image","html","ajax"],open:function(e){var t=this.config.beforeOpen.call(this,e);return!1!==t&&(t=this.open(e)),!1!==t&&this.config.afterOpen.call(this,e),t},close:function(e){var t=this.config.beforeClose.call(this,e);!1!==t&&this.close(e)}},methods:{setup:function(n,i){"object"!=typeof n||n instanceof e!=!1||i||(i=n,n=void 0),i=e.extend({},t.defaults,i);var o=i.resetCss?i.namespace+"-reset":i.namespace,a=e(i.background||'<div class="'+o+'"><div class="'+o+'-content"><span class="'+o+"-close-icon "+i.namespace+'-close">'+i.closeIcon+"</span></div></div>"),r=this;return e.extend(r,{config:i,target:n,$instance:a.clone().addClass(i.variant)}),r.$instance.on(i.closeTrigger+"."+i.namespace,function(t){var n=e(t.target);("background"===i.closeOnClick&&n.is("."+i.namespace)||"anywhere"===i.closeOnClick||n.is("."+i.namespace+"-close"))&&(t.preventDefault(),i.close.call(r))}),this},attach:function(t,n,i){var o={};return e.each(t[0].attributes,function(){var t=this.name.match(/^data-featherlight-(.*)/);if(t){var n=this.value;try{n=e.parseJSON(n)}catch(i){}o[e.camelCase(t[1])]=n}}),this.$elm=t,this.setup(n,e.extend(o,i)),t.on(this.config.openTrigger+"."+this.config.namespace,e.proxy(this.config.open,this)),this},getContent:function(){var n,i=this,o=i.target||i.$elm.attr(i.config.targetAttr)||"";for(var a in i.config.type)i.config.type[a]===!0&&(n=t.contentFilters[a]);if(!n&&o in t.contentFilters&&(n=t.contentFilters[o],o=i.target&&i.$elm.attr(i.config.targetAttr)),o=o||i.$elm.attr("href")||"",!n){var r=o;if(o=null,e.each(i.config.contentFilters,function(){return n=t.contentFilters[this],n.test&&(o=n.test(r)),!o&&n.regex&&r.match&&r.match(n.regex)&&(o=r),!o}),!o)return"console"in window&&window.console.error("Featherlight: no content filter found "+(r?' for "'+r+'"':" (no target specified)")),!1}return n.process.call(i,o)},setContent:function(t){var n=this;(t.is("iframe")||e("iframe",t).length>0)&&n.$instance.addClass(n.config.namespace+"-iframe"),n.$content=t.clone().addClass(n.config.namespace+"-inner"),n.$instance.find("."+n.config.namespace+"-inner").remove(),n.$instance.find("."+n.config.namespace+"-content").append(n.$content)},open:function(i){var o=this;i&&i.preventDefault();var a=this.getContent();return a?(o.constructor._opened.add(o._openedCallback=function(e){o.$instance.closest("body").length>0&&(e.currentFeatherlight=o)}),this.config.closeOnEsc&&n&&(e(document).bind("keyup."+t.defaults.namespace,n),n=null),this.setContent(a),this.$instance.appendTo("body").fadeIn(this.config.openSpeed),void 0):!1},close:function(e){var t=this;t.constructor._opened.remove(t._openedCallback),t.$instance.fadeOut(t.config.closeSpeed,function(){t.$instance.detach(),t.config.afterClose.call(t,e)})}},contentFilters:{jquery:{regex:/^[#.]\w/,test:function(t){return t instanceof e&&t},process:function(t){return e(t)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp)(\?\S*)?$/i,process:function(t){return e('<img src="'+t+'" alt="" class="'+this.config.namespace+'-image" />')}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(t){return e(t)}},ajax:{regex:/./,process:function(t){var n=this,i=e("<div></div>").load(t,function(t,o){"error"!==o&&e.featherlight(i.html(),e.extend({},n.config,{type:{html:!0}}))})}}},current:function(){var e={};return this._opened.fire(e),e.currentFeatherlight},close:function(){var e=t.current();e&&e.config.close.call(e)},_opened:e.Callbacks()}),t.prototype=e.extend({constructor:t},t.methods),e.fn.featherlight=function(n,i){return this.each(function(){(new t).attach(e(this),i,n)}),this},e(document).ready(function(){var n=t.defaults;n.autostart&&e(n.selector,n.context).featherlight()})}(jQuery),$.featherlight.defaults.beforeOpen=function(){var e=$(this.$elm.data("featherlight"));return $(window).width()<=1023?(e.slideToggle(function(){$(".profils-bubble .lightbox").not(e).slideUp()}),!1):(e.css("display",""),!0)};